### 멱등한 Consumer 설계
이벤트가 중복 발행되더라도 정상적으로 동작하도록, 아래와 같이 **Consumer를 멱등하게(Idempotent) 구현**한다.
- 1. 이벤트마다 고유한 UUID 필드를 추가한다.
    - 각 이벤트에 **유일한 식별자(UUID)를 부여**하여, 동일한 이벤트인지 판별할 수 있도록 한다.
- 2. 이벤트 처리 이력을 DB에 저장
    - 이벤트를 Consume 하는 곳에서, 이벤트 처리 후 처리한 이벤트를 저장한다.
- 3. 이미 처리된 이벤트라면 아무 작업도 수행하지 않음
    - 같은 이벤트가 DB에 존재하면 Consumer는 **중복 처리를 방지하기 위해 아무런 작업도 수행하지 않는다.**



위 방법 외에도 카프카에서 제공하는 **멱등성 프로듀서** 등을 사용하는 방법도 있다.
- 참고 - [신뢰성 있는 카프카 애플리케이션을 만드는 3가지 방법](https://www.youtube.com/watch?v=7_VdIFH6M6Q)

그러나 해당 기능을 적용하려면 추가적인 학습이 필요하며,
동작 원리를 완전히 이해하지 못한 상태에서 사용하는 것은 위험할 수 있다.

따라서, **우선 직접 구현한 방식으로 멱등성을 보장**하고,
추후 필요에 따라 Kafka의 기능을 도입하는 방향으로 진행하기로 결정했다.
